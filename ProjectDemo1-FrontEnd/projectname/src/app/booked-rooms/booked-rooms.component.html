<div *ngIf="loading" class="text-center">Loading...</div>
<div *ngIf="error" class="alert alert-danger text-center">{{ error }}</div>
<div *ngIf="!loading && !error" class="container">
  <div class="row">
    <div *ngFor="let room of bookedRooms" class="col-md-4 mb-4">
      <div class="card">
        <div class="card-image">
          <!-- Room image -->
          <img [src]="room.roomDetails.imagePath" class="card-img-top" alt="Room image">

          <!-- "Booked" badge, shown if the room is booked -->
          <div *ngIf="!room.isCanceled && !room.isAvailable" class="booked-badge">Booked</div>

          <!-- "Cancelled" overlay, shown when the room is canceled -->
          <div *ngIf="room.isCanceled" class="cancelled-overlay">Booking Cancelled</div>
        </div>

        <div class="card-detail">
          <span class="price-label">PRICE: {{ room.roomPrice }}</span>
          <span class="price-label">RATING: {{ room.roomDetails.rating }}</span>
          <span class="price-label">LOCATION: {{ room.roomDetails.location }}</span>
          <span class="price-label">DESCRIPTION: {{ room.roomDetails.description }}</span>
          <span class="price-label">AMENITIES: {{ room.roomDetails.amenities }}</span>
          <span class="price-label">ROOM TYPE: {{ room.roomType }}</span>
        </div>

        <div class="card-footer">
          <!-- Cancel button, hidden when the room is canceled -->
          <button *ngIf="!room.isCanceled && !room.isAvailable" class="btn btn-danger w-100" (click)="cancelBooking(room.roomNumber)">Cancel</button>
        </div>
      </div>
    </div>
  </div>
</div>